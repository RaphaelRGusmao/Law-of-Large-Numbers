<html>
<head>
</head>
<body>
<canvas width="650" height="400" id="canv"></canvas>
<script src="plot.js"></script>
<script>
function recalc() {
	var randomJump = Math.random()*10;
	for (var i=1; i<ilosc; i++) {
		data[i-1] = data[i];
	}

	if (randomJump > 8) {
		data[ilosc-1] = data[ilosc-2] + Math.random()*10-5;
	}

	data[ilosc-1] = data[ilosc-2]+Math.random()*1-0.5;
	myp.data = data;
	myp.plot();
}

function prepData(range,amount) {
	var arr = new Array(amount);
	for (var i=0; i<amount; i++) {
		arr[i] = (Math.random()) * range;
        var aux = 0;
        while (aux < arr[i]) {
             aux++;
        }
        arr[i] = aux;
    }

	return arr;
}

var ilosc = 200;

var myp = new MakeDraw();
myp.id="canv";

myp.plotColor = 'rgba(200,232,53,1)';
myp.gridColor = 'rgba(0,0,0,0.05)';
myp.fSize=15;
myp.enumerateP=0;
myp.enumerateH=0;
myp.enumerateV=1;

var data = prepData(6,ilosc);

var t = setInterval('recalc()',20);

myp.data = data;
myp.plot();
</script>
</body>
</html>
